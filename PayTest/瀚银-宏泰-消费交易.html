<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script src="js/md5.js" type="text/javascript"></script>
    <script src="js/jquery.min.js" type="text/javascript"></script>
    <title>瀚银-宏泰-消费交易</title>
    <style type="text/css">
        .auto-style1 {
            width: 50%;
        }

        .auto-style2 {
            text-align: right;
        }

        #Select1 {
            width: 142px;
        }
    </style>
    <script type="text/javascript">
        $(function () {

            SetRand();
            SetOrderNo();

            var str = "80000384|887581298600467|WKJGWKQTCS@20180813173307|636717728541748535|20180905073414|10|互联网|341126197709218366|6221558812340000|13552535506|100000|2008|7|3F7DB75AFBE34A4B40ECD0CC4A8B6492";
            var result = hex_md5(str);

            $("#Btnsub").click(function () {
                var signaStr = $("#insCode").val() + "|" +
                    $("#insMerchantCode").val() + "|" +
                    $("#hpMerCode").val() + "|" +
                    $("#orderNo").val() + "|" +
                    $("#orderTime").val() + "|" +
                    $("#orderAmount").val() + "|" +
                    $("#name").val() + "|" +
                    $("#idNumber").val() + "|" +
                    $("#accNo").val() + "|" +
                    $("#telNo").val() + "|" +
                    $("#productType").val() + "|" +
                    $("#paymentType").val() + "|" +
                    $("#nonceStr").val() + "|" +
                    $("#signKey").val();
                $("#signature").val(hex_md5(signaStr));
            });
        })

        function SetRand() {
            var x = 12;
            var y = 0;
            var rand = parseInt(Math.random() * (x - y + 1) + y);
            $("#nonceStr").val(rand);
        }

        function SetOrderNo() {
            var date = new Date();
            var year = date.getFullYear().toString();

            var month = date.getMonth().toString();
            if (month.length < 2)
                month = "0" + month;

            var day = date.getDay().toString();

            var length = day.length;


            if (day.length < 2)
                day = "0" + day;

            var hour = date.getHours().toString();
            if (hour.length < 2)
                hour = "0" + hour;

            var minute = date.getMinutes().toString();
            if (minute.length < 2)
                minute = "0" + minute;

            var second = date.getSeconds().toString();
            if (second.length < 2)
                second = "0" + second;

            var orderTime = year + month + day + hour + minute + second;
            $("#orderTime").val(orderTime);

            var milisecond = date.getMilliseconds().toString();
            if (milisecond.length < 2)
                milisecond = "00" + milisecond;
            if (milisecond.length < 3)
                milisecond = "0" + milisecond;

            var x = 100000;
            var y = 0;
            var rand = parseInt(Math.random() * (x - y + 1) + y).toString();
            if (rand.length < 2)
                rand = "00000" + rand;

            if (rand.length < 3)
                rand = "0000" + rand;

            if (rand.length < 4)
                rand = "000" + rand;

            if (rand.length < 5)
                rand = "00" + rand;

            if (rand.length < 6)
                rand = "0" + rand;

            var orderNo = year + month + day + hour + minute + second + milisecond + rand;
            $("#orderNo").val(orderNo);

        }
    </script>
</head>
<body>
    <h2>瀚银-宏泰-消费交易</h2>
    <form action="http://180.168.61.86:27380/hpayTransGatewayWeb/trans/debit.htm" method="post">
        <table>
            <tr>
                <td>机构号</td>
                <td>
                    <input id="insCode" type="text" name="insCode" value="80000384">
                </td>
            </tr>

            <tr>
                <td>机构商户编号</td>
                <td>
                    <input id="insMerchantCode" type="text" name="insMerchantCode" value="887581298600467">
                </td>
            </tr>

            <tr>
                <td>瀚银商户号</td>
                <td>
                    <input id="hpMerCode" type="text" name="hpMerCode" value="WKJGWKQTCS@20180813173307">
                </td>
            </tr>

            <tr>
                <td>商户付款订单号</td>
                <td>
                    <input id="orderNo" type="text" name="orderNo">
                </td>
            </tr>

            <tr>
                <td>商户付款付款时间</td>
                <td>
                    <input id="orderTime" type="text" name="orderTime" value="20180705173500">
                </td>
            </tr>

            <tr>
                <td>订单币种</td>
                <td>
                    <input id="currencyCode" type="text" name="currencyCode" value="156">
                </td>
            </tr>

            <tr>
                <td>订单金额</td>
                <td>
                    <input id="orderAmount" type="text" name="orderAmount" value="1">
                </td>
            </tr>

            <tr>
                <td>姓名</td>
                <td>
                    <input id="name" type="text" name="name" value="互联网">
                </td>
            </tr>

            <tr>
                <td>身份证号</td>
                <td>
                    <input id="idNumber" type="text" name="idNumber" value="341126197709218366">
                </td>
            </tr>

            <tr>
                <td>卡号</td>
                <td>
                    <input id="accNo" type="text" name="accNo" value="6221558812340000">
                </td>
            </tr>

            <tr>
                <td>手机号</td>
                <td>
                    <input id="telNo" type="text" name="telNo" value="13552535506">
                </td>
            </tr>

            <tr>
                <td>产品类型</td>
                <td>
                    <input id="productType" type="text" name="productType" value="100000">
                </td>
            </tr>

            <tr>
                <td>支付类型</td>
                <td>
                    <input id="paymentType" type="text" name="paymentType" value="2008">
                </td>
            </tr>

            <tr>
                <td>随机参数</td>
                <td>
                    <input id="nonceStr" type="text" name="nonceStr">
                </td>
            </tr>

            <tr>
                <td>前台通知地址URL</td>
                <td>
                    <input id="frontUrl" type="text" name="frontUrl" value="http://47.92.68.54/sync">
                </td>
            </tr>

            <tr>
                <td>后台通知地址</td>
                <td>
                    <input id="backUrl" type="text" name="backUrl" value="http://47.92.68.54/async">
                </td>
            </tr>

            <tr>
                <td>MD5_Key</td>
                <td>
                    <input id="signKey" name="signKey" value="3F7DB75AFBE34A4B40ECD0CC4A8B6492" type="text" />
                </td>
            </tr>

            <tr>
                <td></td>
                <td>
                    <input id="signature" type="hidden" name="signature">
                    <input id="Btnsub" type="submit" value="实时付款">
                </td>
            </tr>
        </table>
    </form>
</body>
</html>